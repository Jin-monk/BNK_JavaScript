<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <style>
        .game-card {
            border: 1px gray solid;
            border-radius: 20px;
            margin: 10px 10px;
            padding: 10px 10px;
            width: 100%;
        }

        #cartNum {
            background-color: red;

        }
    </style>
</head>

<body>
    <h1>🎮Game Zone🎮</h1>
    <button id="changeModeBtn" onclick="changeMode()">다크 모드</button><br>
    <input type="text" id="searchInput" placeholder="게임 검색..."><br>
    <button id="showCartBtn" data-bs-toggle="modal"
            data-bs-target="#exampleModal2">장바구니🛒</button><span id="cartNum">0</span><br>


    <select id="genreSelect">
        <option value="all">모든 장르</option>
        <option value="RPG">RPG</option>
        <option value="FPS">FPS</option>
        <option value="레이싱">레이싱</option>
    </select>
    <div id="gameContainer"></div>



    <div class="game-card" data-name="로스트아크" data-genre="RPG" data-price="0" data-rating="4">
        <h3 class="changeTextColor">로스트아크</h3>
        <p>가격: 무료</p>
        <p>평점: ★ ★ ★ ★ ☆ (4/5)</p>
        <button class="button cart-btn">장바구니 추가</button>
        <button class="button detail-btn" onclick="showDetail(this)" data-bs-toggle="modal"
            data-bs-target="#exampleModal">상세보기</button>
    </div>

    <div class="game-card" data-name="오버워치2" data-genre="FPS" data-price="10000" data-rating="3">
        <h3>오버워치2</h3>
        <p>가격: 10,000원</p>
        <p>평점: ★ ★ ★ ☆ ☆ (3/5)</p>
        <button class="button cart-btn">장바구니 추가</button>
        <button class="button detail-btn" onclick="showDetail(this)" data-bs-toggle="modal"
            data-bs-target="#exampleModal">상세보기</button>
    </div>

    <div class="game-card" data-name="서든어택" data-genre="FPS" data-price="0" data-rating="2">
        <h3>서든어택</h3>
        <p>가격: 무료</p>
        <p>평점: ★ ★ ☆ ☆ ☆ (2/5)</p>
        <button class="button cart-btn">장바구니 추가</button>
        <button class="button detail-btn" onclick="showDetail(this)" data-bs-toggle="modal"
            data-bs-target="#exampleModal">상세보기</button>
    </div>

    <div class="game-card" data-name="배틀그라운드" data-genre="FPS" data-price="30000" data-rating="4">
        <h3>배틀그라운드</h3>
        <p>가격: 30,000원</p>
        <p>평점: ★ ★ ★ ★ ☆ (4/5)</p>
        <button class="button cart-btn">장바구니 추가</button>
        <button class="button detail-btn" onclick="showDetail(this)" data-bs-toggle="modal"
            data-bs-target="#exampleModal">상세보기</button>
    </div>

    <div class="game-card" data-name="리그 오브 레전드" data-genre="RPG" data-price="0" data-rating="4">
        <h3>리그 오브 레전드</h3>
        <p>가격: 무료</p>
        <p>평점: ★ ★ ★ ★ ☆ (4/5)</p>
        <button class="button cart-btn">장바구니 추가</button>
        <button class="button detail-btn" onclick="showDetail(this)" data-bs-toggle="modal"
            data-bs-target="#exampleModal">상세보기</button>
    </div>

    <div class="game-card" data-name="마인크래프트" data-genre="RPG" data-price="30000" data-rating="4">
        <h3>마인크래프트</h3>
        <p>가격: 30,000원</p>
        <p>평점: ★ ★ ★ ★ ☆ (4/5)</p>
        <button class="button cart-btn">장바구니 추가</button>
        <button class="button detail-btn" onclick="showDetail(this)" data-bs-toggle="modal"
            data-bs-target="#exampleModal">상세보기</button>
    </div>

    <div class="game-card" data-name="GTA5" data-genre="RPG" data-price="60000" data-rating="4">
        <h3>GTA5</h3>
        <p>가격: 60,000원</p>
        <p>평점: ★ ★ ★ ★ ☆ (4/5)</p>
        <button class="button cart-btn">장바구니 추가</button>
        <button class="button detail-btn" onclick="showDetail(this)" data-bs-toggle="modal"
            data-bs-target="#exampleModal">상세보기</button>
    </div>

    <div class="game-card" data-name="던전앤파이터" data-genre="RPG" data-price="0" data-rating="3">
        <h3>던전앤파이터</h3>
        <p>가격: 무료</p>
        <p>평점: ★ ★ ★ ☆ ☆ (3/5)</p>
        <button class="button cart-btn">장바구니 추가</button>
        <button class="button detail-btn" onclick="showDetail(this)" data-bs-toggle="modal"
            data-bs-target="#exampleModal">상세보기</button>
    </div>

    <div class="game-card" data-name="카트라이더" data-genre="레이싱" data-price="0" data-rating="4">
        <h3 class="changeTextColor">카트라이더</h3>
        <p>가격: 무료</p>
        <p>평점: ★ ★ ★ ★ ☆ (4/5)</p>
        <button class="button cart-btn">장바구니 추가</button>
        <button class="button detail-btn" onclick="showDetail(this)" data-bs-toggle="modal"
            data-bs-target="#exampleModal">상세보기</button>
    </div>

    <div class="game-card" data-name="F1" data-genre="레이싱" data-price="80000" data-rating="4">
        <h3>F1</h3>
        <p>가격: 80,000원</p>
        <p>평점: ★ ★ ★ ★ ☆ (4/5)</p>
        <button class="button cart-btn">장바구니 추가</button>
        <button class="button detail-btn" onclick="showDetail(this)" data-bs-toggle="modal"
            data-bs-target="#exampleModal">상세보기</button>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">상세 보기</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p id="modelDetail"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal 장바구니 출력--> 
    <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">상세 보기</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p id="cartList"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>





    <script>
        const games = [
            { name: "로스트아크", price: 0, rating: 4, genre: "RPG" },
            { name: "오버워치2", price: 10000, rating: 3, genre: "FPS" },
            { name: "서든어택", price: 0, rating: 2, genre: "FPS" },
            { name: "배틀그라운드", price: 30000, rating: 4, genre: "FPS" },
            { name: "리그 오브 레전드", price: 0, rating: 4, genre: "RPG" },
            { name: "마인크래프트", price: 30000, rating: 4, genre: "RPG" },
            { name: "GTA5", price: 60000, rating: 4, genre: "RPG" },
            { name: "던전앤파이터", price: 0, rating: 3, genre: "RPG" },
            { name: "카트라이더", price: 0, rating: 4, genre: "레이싱" },
            { name: "F1", price: 80000, rating: 4, genre: "레이싱" },
        ];
        
        //상세 보기 버튼 
        function showDetail(button) {
            const modelDetail = document.getElementById("modelDetail");
            console.log(button.parentElement);
            const game = button.parentElement;
            const name = game.dataset.name;
            const genre = game.dataset.genre;
            const price = game.dataset.price;
            const rating = game.dataset.rating;
            modelDetail.innerHTML = `<ul>
                <li>이름: ${name}</li>
                <li>장르: ${genre}</li>
                <li>가격: ${price}</li>
                <li>평점: ${rating}</li>
                </ul>`
            }
            
            //장바구니 추가 버튼
            const cart = [];
            document.querySelectorAll('.cart-btn').forEach(button => {
                button.addEventListener('click', function () {
                    console.log("asdf");
                    const name = this.parentElement.dataset.name;
                    cart.push(name);
                    document.getElementById('cartNum').textContent = `${cart.length}`;
                });
            });
            //장바구니 담긴 게임 확인
            document.getElementById('showCartBtn').addEventListener('click',function(){
                const cartList = document.getElementById('cartList');
                cartList.innerHTML = '';
                
                if(cart.length === 0 ){
                    const li = document.createElement('li');
                    li.textContent = '장바구니가 비어 있습니다.';
                    cartList.appendChild(li);
                    return;
                }
                cart.forEach((game,index)=>{
                    const li = document.createElement('li');
                    li.textContent = `${index+1}.${game}`;
                    cartList.appendChild(li);
                });
            });
            
            
            //다크 모드 및 라이트 모드 전환
            const changeModeBtn = document.getElementById("changeModeBtn");
            function changeMode() {
                console.log(changeModeBtn.innerText);
                if (changeModeBtn.innerText === '다크 모드') {
                    document.body.style.background = "rgb(100,100,100)";
                    changeModeBtn.innerText = "라이트 모드";
                    
                } else if (changeModeBtn.innerText === '라이트 모드') {
                    document.body.style.background = "rgb(255,255,255)";
                    changeModeBtn.innerText = "다크 모드";
                }
                const changeTextColor = document.getElementById("changeTextColor");
                
                
            }
            
            //장르에 따른 게임 출력
            
            const select = document.getElementById("genreSelect");
            const gameCard = document.querySelectorAll(".game-card");
            
            select.addEventListener("change", function () {
                const selected = this.value;
                
                gameCard.forEach(game => {
                    const genre = game.dataset.genre;
                    if (selected === "all" || genre === selected) {
                        game.style.display = "block";
                    } else {
                        game.style.display = "none";
                    }
                });
            });
            
            //게임 검색에 따른 게임 출력
        const input = document.getElementById('searchInput');
        const cards = document.querySelectorAll('.game-card');
        input.addEventListener('input',function (){
            const keyword = this.value.toLowerCase();

            cards.forEach(card=>{
                const name = card.dataset.name.toLowerCase();
                if(name.includes(keyword)){
                    card.style.display = "block";
                    
                }else {
                    card.style.display = "none";
                }
            });
        });




    </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
</body>

</html>